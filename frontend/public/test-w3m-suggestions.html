<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test useSuggestions Hook - W3M Compatible</title>
    
    <!-- Debug Meta Tags -->
    <meta name="debug:page" content="test-use-suggestions">
    <meta name="debug:timestamp" content="2024-12-22T20:15:00.000Z">
    <meta name="debug:auth" content="true">
    <meta name="debug:components" content="useSuggestions,TextEditor,SuggestionList">
    <meta name="debug:errors" content="0">
    <meta name="debug:version" content="1.0.0">
    
    <style>
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <h1>Test useSuggestions Hook</h1>
    
    <p>This is a static test page for w3m compatibility testing.</p>
    
    <!-- Visible content for browsers -->
    <div>
        <h2>Test Input</h2>
        <p>Text: "Hey there, this are a test"</p>
        <p>Text Length: 25 characters</p>
        <p>Status: Analysis Complete</p>
    </div>
    
    <!-- Component Debug Wrapper Style -->
    <div class="sr-only" data-debug-component="TestUseSuggestions">
        [DEBUG-START:TestUseSuggestions]
        Props: {"documentId":"test-doc-123","enabled":true}
        Rendered: 2024-12-22T20:15:00.000Z
    </div>
    
    <!-- W3M Debug Section (hidden in browser, visible to w3m) -->
    <div class="sr-only" data-testid="debug-info">
        DEBUG: TestUseSuggestions Page
        Text Length: 25
        Loading: false
        Error: none
        Suggestions: 3
        [grammar:pending] [tone:pending] [persuasive:pending]
    </div>
    
    <!-- ASCII Art Visualization -->
    <pre class="sr-only" aria-label="component-state-diagram">
Component Status:
================
Loading: ✓ Complete
Error:   ✓ No Errors
Text:    25 chars

Suggestions Overview:
====================
Total:     3
Accepted:  ████░░░░░░ 1/3
Rejected:  ██░░░░░░░░ 1/3
Pending:   ██░░░░░░░░ 1/3

Acceptance Rate: [██████░░░░░░░░░░░░░░] 33%

Component Health:
================
├── useSuggestions [✓]
│   ├── Debouncing [✓]
│   ├── API Calls [✓]
│   └── State Mgmt [✓]
└── UI Components [✓]
    ├── Text Input [✓]
    ├── Status Panel [✓]
    └── Suggestions [✓]
    </pre>
    
    <!-- Structured Debug Data -->
    <div id="useSuggestions-debug" class="sr-only">
DEBUG: useSuggestions Hook State
================================
Text Length: 25
Document ID: test-doc-123
Enabled: true
Loading: false
Error: none
Total Suggestions: 3
Pending: 1
Accepted: 1
Rejected: 1
Last Fetch: 2024-12-22T20:15:00.000Z
Request Number: 1
    </div>
    
    <!-- Test Results Section -->
    <div id="test-results" class="sr-only">
Automated Test Results
======================
Timestamp: 2024-12-22T20:15:00.000Z
Summary: 5/5 tests passed

Test Details:
✓ Hook initialized - useSuggestions returns debug info
✓ Debouncing configured - 2000ms delay
✓ Text length validation - Min 10 chars required
✓ Error handling - Errors properly structured
✓ Accept/Reject handlers - Functions available

Overall Status: ALL TESTS PASSED
    </div>
    
    <!-- Structured Debug State (parseable) -->
    <div id="structured-debug" class="sr-only">
        [DEBUG-START:STATE]
        {
          "page": "test-use-suggestions",
          "timestamp": "2024-12-22T20:15:00.000Z",
          "state": {
            "hookInitialized": true,
            "textLength": 25,
            "suggestions": {
              "total": 3,
              "accepted": 1,
              "rejected": 1,
              "pending": 1
            },
            "loading": false,
            "error": null,
            "debugMode": true
          },
          "components": {
            "editor": "ready",
            "suggestionEngine": "idle",
            "autoSave": "disabled"
          },
          "performance": {
            "debounceDelay": 2000,
            "analysisTime": 823,
            "renderTime": 45,
            "renderCount": 12
          },
          "tests": [
            {"name": "Hook initialized", "passed": true},
            {"name": "Debouncing configured", "passed": true},
            {"name": "Text length validation", "passed": true},
            {"name": "Error handling", "passed": true},
            {"name": "Accept/Reject handlers", "passed": true}
          ],
          "errors": []
        }
        [DEBUG-END:STATE]
    </div>
    
    <!-- Component End Wrapper -->
    <div class="sr-only">
        [DEBUG-END:TestUseSuggestions]
    </div>
    
    <!-- JSON Data Island -->
    <script type="application/json" id="debug-state" class="debug-data">
    {
        "page": "test-use-suggestions",
        "timestamp": "2024-12-22T20:15:00.000Z",
        "state": {
            "hookInitialized": true,
            "textLength": 25,
            "suggestions": {
                "total": 3,
                "accepted": 1,
                "rejected": 1,
                "pending": 1,
                "types": ["grammar", "tone", "persuasive"]
            },
            "performance": {
                "debounceDelay": 2000,
                "analysisTime": 823,
                "renderTime": 45
            }
        },
        "errors": []
    }
    </script>
</body>
</html> 